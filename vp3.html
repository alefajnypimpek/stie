<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="robots" content="noindex, nofollow">
    <meta name="referrer" content="no-referrer">
    <meta name="og:title" content="Viaplay 3">
    <meta name="og:description" content="powered by discord stan">
    <meta name="og:image" content="https://malpatv.netlify.app/stan.png">
    <title>Viaplay 3</title>
    <style>
        body {
            cursor: url(https://i.imgur.com/TQqwfCx.png), auto;
            background: #000;
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            overflow: hidden;
        }

        .container {
            width: 100% !important;
            height: 100vh !important;
        }

        #player {
            height: 100% !important;
            width: 100% !important;
        }

        .hidden {
            position: absolute;
            left: -9999px;
            width: 1px;
            height: 1px;
            overflow: hidden;
        }

        .error-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ff0000;
            font-size: 20px;
            text-align: center;
            z-index: 9999;
        }

        #soundFrame {
            position: absolute;
            width: 0;
            height: 0;
            border: none;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/clappr@latest/dist/clappr.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/level-selector@latest/dist/level-selector.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/clappr-pip@latest/dist/clappr-pip.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/clappr/dash-shaka-playback@latest/dist/dash-shaka-playback.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/clappr-chromecast-plugin@latest/dist/clappr-chromecast-plugin.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/clappr-pip@latest/dist/clappr-pip.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/disable-devtool/disable-devtool.min.js" disable-devtool-auto></script>
</head>

<body>
    <?php
    $allowed_domains = array("malpatv.netlify.app", "iframetester.com");
    $referrer = isset($_SERVER['HTTP_REFERER']) ? $_SERVER['HTTP_REFERER'] : '';
    $allowed = false;
    foreach ($allowed_domains as $domain) {
        if (strpos($referrer, $domain) !== false) {
            $allowed = true;
            break;
        }
    }
    if (!$allowed) {
        http_response_code(404);
        include('404.html');
        exit;
    }
    ?>
    <div class="container">
        <div id="player"></div>
    </div>
    <script>
        var player = new Clappr.Player({
            source: "https://live1-dash-cdn1-tve-cdn-viaplay-tv.akamaized.net/tve/vexplorepol/vexplorepol.isml/dash.mpd",
            plugins: [LevelSelector, DashShakaPlayback],
            shakaConfiguration: {
                drm: {
                    clearKeys: {
                      "50773d109165531d979bc5513ad6d6f8": "0d8b2ca06cd487d19b67db93e7a13ec5",
                      "d259528f430d5abfbc0ef337ab133d99": "5c343d55d9fe4ee82f7a4cd984ca83c2",
                      "62ce19286bbd5b35b5a708aa3eef77ed": "aedd34c1780a2d22048bee4761e862f1",
                      "6b3a77e4f3ac56afadbc04db57c9408a": "5e0d44f92c332aaa004b03a262b13fac"
                    }
                }
            },
            autoPlay: true,
            muted: false,
            width: "100%",
            height: "100%",
            poster: "https://wykop.pl/cdn/c3201142/39bf786a9ada8033aaaa16cbae7e6e01e378cd813ba64cff0f0601c5c93128ab.jpg",
            watermark: "",
            parentId: "#player",
            mediacontrol: {
                seekbar: "#de0161",
                buttons: "#de0161"
            }
        });
    </script>
</body>
</html>
